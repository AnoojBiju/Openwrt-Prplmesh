#
---
_namespace: wfa_map

tlvTIDtoLinkMappingPolicy:
  _type: class
  _is_tlv_class: True
  type:
    _type: eTlvTypeMap
    _value_const: TLV_TID_TO_LINK_MAPPING_POLICY
  length: uint16_t
  flags: sFlags1
  mld_mac_Addr: sMacAddr
  flags: sFlags2
  reserved:
    _type: uint8_t
    _length: [22]
  num_mapping: uint16_t
  num_tid_to_link_mappings:
    _type: cNumTIDtoLink
    _length: [num_mapping]

sFlags1:
  _type: struct
  _bit_field: uint8_t
  is_bsta_config:
    _bit_range: [7,7]
  reserved:
    _bit_range: [6,0]

sFlags2:
  _type: struct
  _bit_field: uint8_t
  tid_to_link_mapping_negotiation:
    _bit_range: [7,7]
  reserved:
    _bit_range: [6,0]
  
cNumTIDtoLink:
  _type: class
  flags: sFlags3
  sta_mld_mac_addr: sMacAddr
  flags: sFlags4
  link_mapping_presence_indicator:
    _type: uint8_t
    _length_var: True
  expected_duration:
    _type: uint8_t
    _length: [3]
  tid_to_link_mappings:
    _type: uint16_t
    _length: [link_mapping_presence_indicator]
  reserved:
    _type: uint8_t
    _length: [7]

sFlags3:
  _type: struct
  _bit_field: uint8_t
  addremove:
    _bit_range: [7,7]
  reserved:
    _bit_range: [6,0]

sFlags4:
  _type: struct
  _bit_field: uint8_t
  direction:
    _bit_range: [7,6]
  default_link_mapping:
    _bit_range: [5,5]
  mapping_switch_time_present:
    _bit_range: [4,4]
  expected_duration_present:
    _bit_range: [3,3]
  link_mapping_size:
    _bit_range: [2,2]
  reserved:
    _bit_range: [1,0]
