<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="740px" preserveAspectRatio="none" style="width:1652px;height:740px;background:#FFFFFF;" version="1.1" viewBox="0 0 1652 740" width="1652px" zoomAndPan="magnify"><defs/><g><path d="M19.5,7 L1626.5,7 A12.5,12.5 0 0 1 1639,19.5 L1639,33.2969 L7,33.2969 L7,19.5 A12.5,12.5 0 0 1 19.5,7 " fill="#F1F1F1" style="stroke:#F1F1F1;stroke-width:1.0;"/><path d="M7,33.2969 L1639,33.2969 L1639,714.7969 A12.5,12.5 0 0 1 1626.5,727.2969 L19.5,727.2969 A12.5,12.5 0 0 1 7,714.7969 L7,33.2969 " fill="#FFFFFF" style="stroke:#FFFFFF;stroke-width:1.0;"/><rect height="720.2969" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;fill:none;" width="1632" x="7" y="7"/><line style="stroke:#181818;stroke-width:0.5;fill:none;" x1="7" x2="1639" y1="33.2969" y2="33.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="138" x="754" y="24.9951">Channel_Scan_Task</text><g id="Channel_Scan_Task.preTrigger"><rect fill="#F1F1F1" height="85.1875" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="524" x="19" y="117.2969"/><line style="stroke:#181818;stroke-width:0.5;" x1="19" x2="543" y1="143.5938" y2="143.5938"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="171" x="195.5" y="135.292">Scan PENDING_TRIGGER</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="500" x="24" y="161.5889">Sending ACTION_BACKHAUL_CHANNEL_SCAN_TRIGGER_SCAN_REQUEST</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="14" x="28" y="177.8857">or</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="443" x="28" y="194.1826">ACTION_BACKHAUL_CHANNEL_SCAN_DUMP_RESULTS_REQUEST</text></g><g id="Channel_Scan_Task.waitTrigger"><rect fill="#F1F1F1" height="50" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="263" x="828.5" y="255.2969"/><line style="stroke:#181818;stroke-width:0.5;" x1="828.5" x2="1091.5" y1="281.5938" y2="281.5938"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="243" x="838.5" y="273.292">Scan WAIT_FOR_SCAN_TRIGGERED</text></g><g id="Channel_Scan_Task.waitReady"><rect fill="#F1F1F1" height="50" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="253" x="833.5" y="358.2969"/><line style="stroke:#181818;stroke-width:0.5;" x1="833.5" x2="1086.5" y1="384.5938" y2="384.5938"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="233" x="843.5" y="376.292">Scan WAIT_FOR_RESULTS_READY</text></g><g id="Channel_Scan_Task.waitDump"><rect fill="#F1F1F1" height="50" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="247" x="836.5" y="476.2969"/><line style="stroke:#181818;stroke-width:0.5;" x1="836.5" x2="1083.5" y1="502.5938" y2="502.5938"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="227" x="846.5" y="494.292">Scan WAIT_FOR_RESULTS_DUMP</text></g><g id="Channel_Scan_Task.scanDone"><rect fill="#F1F1F1" height="50" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="144" x="888" y="594.2969"/><line style="stroke:#181818;stroke-width:0.5;" x1="888" x2="1032" y1="620.5938" y2="620.5938"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="124" x="898" y="612.292">Scan SCAN_DONE</text></g><g id="Channel_Scan_Task.scanFail"><rect fill="#F1F1F1" height="50" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="150" x="689" y="594.2969"/><line style="stroke:#181818;stroke-width:0.5;" x1="689" x2="839" y1="620.5938" y2="620.5938"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="130" x="699" y="612.292">Scan SCAN_FAILED</text></g><ellipse cx="281" cy="54.2969" fill="#222222" rx="10" ry="10" style="stroke:none;stroke-width:1.0;"/><ellipse cx="960" cy="707.2969" fill="none" rx="10" ry="10" style="stroke:#222222;stroke-width:1.0;"/><ellipse cx="960.5" cy="707.7969" fill="#222222" rx="6" ry="6" style="stroke:none;stroke-width:1.0;"/><!--MD5=[6770af1cd3de90aad6567bd4c2bb89db]
link *start*Channel_Scan_Task to preTrigger--><g id="link_*start*Channel_Scan_Task_preTrigger"><path d="M281,64.4769 C281,75.3369 281,94.2069 281,112.2269 " fill="none" id="*start*Channel_Scan_Task-to-preTrigger" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="281,117.2769,285,108.2769,281,112.2769,277,108.2769,281,117.2769" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="203" x="282" y="95.3638">handle_channel_scan_request()</text></g><!--MD5=[22cb1d0dc68f13565e333de15e485b71]
link preTrigger to waitTrigger--><g id="link_preTrigger_waitTrigger"><path d="M518.96,202.3269 C620.72,220.0869 735.89,240.1869 823.01,255.3869 " fill="none" id="preTrigger-to-waitTrigger" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="828.18,256.2969,819.9985,250.814,823.2539,255.4402,818.6277,258.6957,828.18,256.2969" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="521" x="702" y="233.3638">ACTION_BACKHAUL_CHANNEL_SCAN_TRIGGER_SCAN_RESPONSE(success : true)</text></g><!--MD5=[494cdbbe13bd61be5a8e660f63d02ee2]
link preTrigger to waitReady--><g id="link_preTrigger_waitReady"><path d="M270.95,202.3169 C265.79,234.7569 265.18,278.6669 291,305.2969 C373.08,389.9569 702.14,342.5069 819,358.2969 C821.92,358.6869 824.88,359.0969 827.85,359.5269 " fill="none" id="preTrigger-to-waitReady" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="833.24,360.2969,824.9046,355.0508,828.2914,359.5818,823.7604,362.9685,833.24,360.2969" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="527" x="292" y="284.8638">ACTION_BACKHAUL_CHANNEL_SCAN_DUMP_RESULTS_RESPONSE(success : true)</text></g><!--MD5=[f8cbf497b5369cf8a3154e93a253952c]
link preTrigger to scanFail--><g id="link_preTrigger_scanFail"><path d="M246.18,202.4669 C231.61,224.0169 218,251.5669 218,279.2969 C218,279.2969 218,279.2969 218,502.2969 C218,596.3369 531.8,614.4569 683.61,617.7269 " fill="none" id="preTrigger-to-scanFail" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="688.94,617.8369,680.022,613.6572,683.941,617.7366,679.8616,621.6556,688.94,617.8369" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="595" x="219" y="387.8638">Timeout / ACTION_BACKHAUL_CHANNEL_SCAN_DUMP_RESULTS_RESPONSE(success : false)</text></g><!--MD5=[f4c1b06c174d0a1802b745febb99e488]
link waitTrigger to waitReady--><g id="link_waitTrigger_waitReady"><path d="M960,305.4869 C960,319.6269 960,337.5769 960,352.5769 " fill="none" id="waitTrigger-to-waitReady" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="960,357.9569,964,348.9569,960,352.9569,956,348.9569,960,357.9569" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="668" x="961" y="336.3638">ACTION_BACKHAUL_CHANNEL_SCAN_TRIGGERED_NOTIFICATION (whm::Event::Channel_Scan_Triggered)</text></g><!--MD5=[96b5cea7cdd84e92fd5dd21f29d82af5]
link waitReady to scanFail--><g id="link_waitReady_scanFail"><path d="M867.6,408.3969 C832.5,422.3669 795.78,443.8369 774,476.2969 C751.55,509.7669 753.64,558.2069 758.12,588.9769 " fill="none" id="waitReady-to-scanFail" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="758.92,594.1269,761.4843,584.6177,758.149,589.1867,753.58,585.8513,758.92,594.1269" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="52" x="775" y="505.8638">Timeout</text></g><!--MD5=[188a13fd79ff4a1f41e6a2ccf07d0208]
link waitReady to waitDump--><g id="link_waitReady_waitDump"><path d="M960,408.3369 C960,426.5269 960,451.6169 960,470.9869 " fill="none" id="waitReady-to-waitDump" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="960,476.2969,964,467.2969,960,471.2969,956,467.2969,960,476.2969" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="506" x="961" y="439.3638">ACTION_BACKHAUL_CHANNEL_SCAN_RESULTS_NOTIFICATION(is_dump : false)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="278" x="1079" y="454.4966">(Event::Channel_Scan_New_Results_Ready)</text></g><!--MD5=[60945b15d545474fc4ac8a14ac27900a]
link waitDump to waitDump--><g id="link_waitDump_waitDump"><path d="M1083.71,492.7369 C1094.65,494.5369 1101.5,497.3869 1101.5,501.2969 C1101.5,504.5369 1096.8,507.0469 1088.97,508.8369 " fill="none" id="waitDump-to-waitDump" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="1083.71,509.8569,1093.3025,512.0894,1088.6204,508.9148,1091.7951,504.2327,1083.71,509.8569" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="502" x="1107.5" y="498.3638">ACTION_BACKHAUL_CHANNEL_SCAN_RESULTS_NOTIFICATION(is_dump : true)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="227" x="1249" y="513.4966">Event::Channel_Scan_Dump_Result</text></g><!--MD5=[3477bf5b4deb04088f3933a5c2f7287d]
link waitDump to scanFail--><g id="link_waitDump_scanFail"><path d="M919.39,526.3369 C887.2,545.3869 842.25,571.9869 808.97,591.6869 " fill="none" id="waitDump-to-scanFail" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="804.56,594.2969,814.3429,593.1587,808.8638,591.7518,810.2707,586.2727,804.56,594.2969" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="52" x="886" y="564.8638">Timeout</text></g><!--MD5=[e06527be9a4fdae4b81f7e763650117b]
link waitDump to scanDone--><g id="link_waitDump_scanDone"><path d="M960,526.3369 C960,544.5269 960,569.6169 960,588.9869 " fill="none" id="waitDump-to-scanDone" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="960,594.2969,964,585.2969,960,589.2969,956,585.2969,960,594.2969" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="402" x="961" y="557.3638">ACTION_BACKHAUL_CHANNEL_SCAN_FINISHED_NOTIFICATION</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="194" x="1069" y="572.4966">Event::Channel_Scan_Finished</text></g><!--MD5=[c6220d35a3a3c79374756a4cab0a65d2]
link scanDone to *end*Channel_Scan_Task--><g id="link_scanDone_*end*Channel_Scan_Task"><path d="M960,644.7069 C960,660.0069 960,679.1869 960,692.0369 " fill="none" id="scanDone-to-*end*Channel_Scan_Task" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="960,697.1369,964,688.1369,960,692.1369,956,688.1369,960,697.1369" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="421" x="961" y="675.3638">send_channel_scan_report_to_controller(). handles fragmentation</text></g><!--MD5=[6ef769fca9c5759150ed12bf6b9776f7]
@startuml

state Channel_Scan_Task {
	state "Scan PENDING_TRIGGER" as preTrigger
	state "Scan WAIT_FOR_SCAN_TRIGGERED" as waitTrigger
	state "Scan WAIT_FOR_RESULTS_READY" as waitReady
	state "Scan WAIT_FOR_RESULTS_DUMP" as waitDump
	state "Scan SCAN_DONE" as scanDone
	state "Scan SCAN_FAILED" as scanFail

	preTrigger : Sending ACTION_BACKHAUL_CHANNEL_SCAN_TRIGGER_SCAN_REQUEST \n or \n ACTION_BACKHAUL_CHANNEL_SCAN_DUMP_RESULTS_REQUEST


	[*] - -> preTrigger : handle_channel_scan_request()

	preTrigger - -> waitTrigger : ACTION_BACKHAUL_CHANNEL_SCAN_TRIGGER_SCAN_RESPONSE(success : true)

	preTrigger -> waitReady : ACTION_BACKHAUL_CHANNEL_SCAN_DUMP_RESULTS_RESPONSE(success : true)

	preTrigger -> scanFail : Timeout / ACTION_BACKHAUL_CHANNEL_SCAN_DUMP_RESULTS_RESPONSE(success : false)

	waitTrigger - -> waitReady : ACTION_BACKHAUL_CHANNEL_SCAN_TRIGGERED_NOTIFICATION (whm::Event::Channel_Scan_Triggered)

	waitReady - -> scanFail : Timeout

	waitReady - -> waitDump : ACTION_BACKHAUL_CHANNEL_SCAN_RESULTS_NOTIFICATION(is_dump : false) \n (Event::Channel_Scan_New_Results_Ready)

	waitDump - -> waitDump : ACTION_BACKHAUL_CHANNEL_SCAN_RESULTS_NOTIFICATION(is_dump : true) \n Event::Channel_Scan_Dump_Result

	waitDump - -> scanFail : Timeout

	waitDump - -> scanDone : ACTION_BACKHAUL_CHANNEL_SCAN_FINISHED_NOTIFICATION \n Event::Channel_Scan_Finished

	scanDone - -> [*] : send_channel_scan_report_to_controller(). handles fragmentation
}

@enduml

PlantUML version 1.2022.6(Tue Jun 21 19:34:49 CEST 2022)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: UTF-8
Language: fr
Country: FR
--></g></svg>